<!doctype html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/css/main.css"/>
    <title>Document</title>
</head>
<body>

<nav class="nav">
    <a href="/"><img id="logo-img" alt="car picture" src="/images/car.png"></a>
    <ul>

        <li sec:authorize="isAuthenticated()">
            <span>Welcome, <th:block sec:authentication="name">X</th:block></span>
            <!-- Using a POST request helps protect against cross-site request forgery (CSRF) attacks -->
            <form th:action="@{/users/logout}" th:method="post">
                <input type="submit" value="Logout">
            </form>
        </li>
        <li class="nav-item"><a th:href="@{/brands/all}">All Brands</a></li>
        <li class="nav-item" sec:authorize="isAuthenticated()"><a th:href="@{/offers/add}">Add Offer</a></li>
        <li class="nav-item"><a th:href="@{/offers/all}">All Offers</a></li>
        <li class="nav-item" sec:authorize="isAuthenticated()">
            <a th:href="@{/pages/all}">All Users</a></li>
        <li class="nav-item" sec:authorize="hasRole('ADMIN')">
            <a th:href="@{/pages/admin}">Admin</a></li>
        <li class="nav-item" sec:authorize="hasRole('MODERATOR')">
            <a th:href="@{/pages/moderator}">Moderator</a></li>
        <li class="nav-item" sec:authorize="isAnonymous()"><a th:href="@{/users/register}">Register</a></li>
        <li class="nav-item" sec:authorize="isAnonymous()"><a th:href="@{/users/login}">Login</a></li>
        <li class="nav-item" sec:authorize="isAuthenticated()"><a th:href="@{/support}">Support</a></li>
        <li class="nav-item"><a th:href="@{/search}">Search</a></li>
    </ul>
</nav>

</body>
</html>